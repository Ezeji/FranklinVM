<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TinyCore Browser VM</title>
<style>
  body { background: black; color: lime; font-family: monospace; margin: 0; padding: 0; }
  #terminal { width: 100%; height: 600px; }
</style>
<script src="https://unpkg.com/v86/build/libv86.js"></script>
</head>
<body>

<h2 style="color:white;text-align:center;">TinyCore 15 VM in Browser</h2>
<div id="terminal"></div>

<script>
let term = document.getElementById("terminal");

let vm = new V86({
    wasm_path: "https://unpkg.com/v86/build/v86.wasm",
    memory_size: 128 * 1024 * 1024,
    vga_memory_size: 8 * 1024 * 1024,

    // TinyCore kernel + root filesystem
    bzimage: { url: "/docs/v86/vmlinuz" },
    initrd: { url: "/docs/v86/core.gz" },

    autostart: true,
    serial_container: term
});

// Focus so keyboard works
term.tabIndex = 0;
term.focus();

term.addEventListener("keydown", (e) => {
    e.preventDefault();
    if (vm && vm.keyboard_adapter) {
        vm.keyboard_adapter.queue_key(e);
    }
});
</script>

</body>
</html>